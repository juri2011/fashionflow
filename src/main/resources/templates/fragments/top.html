<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<div class="top" th:fragment="top">
    <div class="summit" th:fragment="summit" style="display: flex; justify-content: space-between; align-items: center;">
        <div>
        </div>
        <div>
            <ul style="display: flex; align-items: center; list-style-type: none; margin: 0; padding: 0;">
                <li class="top-item nav-item" sec:authorize="isAnonymous()">
                    <a class="top-link nav-link active" aria-current="page" href="/members/login" th:href="@{/members/login}">로그인</a>
                </li>
                <li class="top-item nav-item" sec:authorize="isAnonymous()">
                    <a class="top-link nav-link active" aria-current="page" href="/members/register" th:href="@{/members/register}">회원가입</a>
                </li>
                <li class="top-item nav-item" sec:authorize="isAuthenticated()">
                    <!-- 로그아웃 form -->
                    <form action="/members/logout" method="post" style="display:inline;">
                        <!-- CSRF 토큰 포함 -->
                        <input type="hidden" name="_csrf" th:value="${_csrf.token}"/>
                        <!-- 로그아웃 버튼 -->
                        <button type="submit" aria-current="page" id="logout">로그아웃</button>
                    </form>
                </li>
                <li class="top-item nav-item dropdown" sec:authorize="isAuthenticated()">
                    <a class="top-link nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        마이페이지
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li>
                            <a class="dropdown-item" href="/members/memberEdit">회원정보수정</a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="/buyer/orders">구매내역</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <style>
        .summit {
            height: 40px;
            background-color: black;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 80px;
        }

        .top-item {
            margin-left: 10px;
        }

        .top-link {
            color: white;
            text-decoration: none;
        }

        #logout {
            color: #fff;
            background-color: transparent;
            border: none;
            cursor: pointer;
        }

    </style>
</div>
</html>
